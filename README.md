# Malware-Detection

Introduce the cencept of our model 

Source category:

(1) Source code of virustotal download samples (/vt_download_samples)

(2) Source code of virustotal crawler (/vt_crawler)

(3) Source code of malware classification workflow (/malware_classification_workflow)

(4) Source code of classifer (/classifer)

## Experimental environment setting
### Operation System: Ubuntu 16.04 LTS Client (or at least Linux-based system recommended)

## Introduction

The evaluation standard of competition is the accuracy of classification, 

and our model holds at least 80% accuracy to each category of malware

### Analysis process

Use feature extracting techniques: Select OpCode, word2vec to extract features.
Then an AI model which is trained by these features will be used to identify the ware is bengin or not.

(1) Extract to OpCode and using OpCode pre-train Word2Vector model

Extract .pe file to OpCode, then use GLOVE to train an Opcodes Word2Vector model
![](https://github.com/ericwu-iii/Malware-Detection/blob/main/show_result/opcode_word2vector.png)

### Diagram of model

Using stacking model to training and testing
![](https://github.com/ericwu-iii/Malware-Detection/blob/main/show_result/word2vector_lstm.png)


### Classification result

Accuracy > 50% in each category of malware
![](https://github.com/ericwu-iii/Malware-Detection/blob/main/show_result/accuracy.png)

## Usage

### vt_download_samples

Description：Using virustotal api download pe file

Code：vt_download_samples

Usage：python3 virustotal_api_spider.py

### vt_crawler

Description：Using tor proxy to crawl virustotal analysis report，and save to txt file

Code：vt_crawler

Usage：Modify config.ini path(txt_output)and sha_list value
  
python3 crawl_malware_5f_report.py（example）
  
### malware_classification_workflow

Description：using objdump convert pe file to opcode，and save as csv file

Code：malware_classification_workflow

Usage：Modify config.ini path and csv output filename

python3 main.py

### classifer

Description：Using Opcode CSV train Word2Vector and LSTM model to predict

Code：classifer

Usage：python3 w2v_lstm.py
