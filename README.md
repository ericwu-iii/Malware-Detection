# Malware-Detection

Introduce the cencept of our model 

Source category:

(1) Source code of virustotal download samples (/vt_download_samples)

(2) Source code of virustotal crawler (/vt_crawler)

(3) Source code of malware classification workflow (/malware_classification_workflow)

(4) Source code of classifer (/classifer)

## Introduction

The evaluation standard of competition is the accuracy of classification, 

and our model holds at least 50% accuracy to each category of malware

### Analysis process

Use feature extracting techniques: Select OpCode, word2vec to extract features.
Then an AI model which is trained by these features will be used to identify the ware is bengin or not.

(1) Extract to OpCode and using OpCode pre-train Word2Vector model

Extract .pe file to OpCode, then use GLOVE to train an Opcodes Word2Vector model
![](https://github.com/ericwu-iii/Malware-Detection/blob/main/show_result/opcode_word2vector.png)

### Diagram of model

Using stacking model to training and testing
![](https://github.com/ericwu-iii/Malware-Detection/blob/main/show_result/word2vector_lstm.png)


### Classification result

Accuracy > 50% in each category of malware
![](https://github.com/ericwu-iii/Malware-Detection/blob/main/show_result/accuracy.png)

## Usage

### vt_download_samples

說明：利用virustotal api下載不重複的pe執行檔樣本。

程式碼：vt_download_samples

運行方式：python3 virustotal_api_spider.py

### vt_crawler

說明：透過tor proxy爬取virustotal網站上之分析報告，並儲存於txt檔。

程式碼：vt_crawler

運行方式：

調整config.ini中報告路徑(txt_output)及目標sha值檔案(sha_list)
  
python3 crawl_malware_5f_report.py（範例）
  
### malware_classification_workflow

說明：利用objdump將pe執行檔轉換為opcode指令，並儲存於csv檔。

程式碼：malware_classification_workflow

運行方式：調整config.ini中目標路徑及csv輸出檔名

python3 main.py

### classifer

說明：

程式碼：

運行方式：